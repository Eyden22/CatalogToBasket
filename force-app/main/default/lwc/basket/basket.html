<template>
    <!--Title-->
    <p class="title">Basket</p>

    <template if:false={basketIsEmpty}>
        <!-- Display basket's products -->
        <div class="basket-list">
            <template for:each={cartItems} for:item="item">
                <div key={item.productId} class="basket-item">
                    <p><strong>{item.name}</strong></p>
                    <p>Price: {item.price}</p>
                    <p>Quantity in cart: {item.quantity}</p>

                    <!-- Input for adjusting quantity -->
                    <lightning-input label="Quantity" type="number" value={item.quantity} min="1" max={item.productQuantity} onchange={handleQuantityChange} data-id={item.productId}></lightning-input>

                    <!-- Remove product button -->
                    <lightning-button label="Remove" onclick={removeFromCart} data-id={item.productId}></lightning-button>
                </div>
            </template>
        </div>

        <!-- Display the total price -->
        <p class="total-price">Total Price: <span>{totalPrice}</span></p>

        <!-- Button to save the cart -->
        <lightning-button class="basket-save-button" label="Save Cart" onclick={handleSaveCart}></lightning-button>
    </template>

    <!-- Message when the basket is empty -->
    <template if:true={basketIsEmpty}>
        <p class="empty-basket-message">Your basket is empty</p>
    </template>
</template>